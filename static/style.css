/* ---- Tokens ---- */
:root{
  --bg:#f6f7fb;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#475569;
  --hint:#64748b;
  --line:#d9e1ee;
  --brand:#0ea5e9;
  --brand-700:#0369a1;
  --success:#16a34a;
  --success-700:#15803d;
  --focus:#7c3aed;
  --radius:14px;
  --shadow:0 1px 2px rgba(0,0,0,.06);
}

:root[data-theme="dark"]{
  --bg:#0b1220;
  --card:#0f1629;
  --text:#e5e7eb;
  --muted:#cbd5e1;
  --hint:#a3b2c7;
  --line:#1f2a44;
  --brand:#38bdf8;
  --brand-700:#0891b2;
  --success:#22c55e;
  --success-700:#16a34a;
  --focus:#a78bfa;
}

/* ---- Base ---- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font:16px/1.5 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
}

/* ---- Skip link ---- */
.skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip-link:focus{left:16px;top:8px;width:auto;height:auto;background:#fff;color:#000;padding:8px 12px;border-radius:8px;z-index:1000}

/* ---- Containers ---- */
.container{max-width:1180px;margin-inline:auto;padding:0 16px}
.header-wrap{display:block;text-align:left} /* force left-aligned header text */
.topbar{padding:20px 0}
.app-title{margin:0 0 6px 0;font-size:26px}
.subtitle{margin:0;color:var(--muted)}
.disclaimer{color:var(--hint);text-decoration:underline}

/* ---- Grid layout (FIXED SIDEBAR) ---- */
.layout{
  display:grid;
  gap:24px;
  /* Main content gets flexible width, sidebar is fixed 380px.
     This keeps both columns tight and visually aligned. */
  grid-template-columns: minmax(640px, 1fr) 380px;
  align-items:start;                 /* align to top */
  justify-content:center;            /* center the whole grid within container */
}

/* Columns */
.column{min-width:0}
.column--sidebar{position:sticky; top:16px; height:fit-content}

/* ---- Card ---- */
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
}
.card-title{margin:0 0 10px 0;font-size:18px}

/* ---- Forms ---- */
.field{display:flex; flex-direction:column; gap:6px; margin:10px 0}
.field .label{font-size:13px; color:var(--hint)}
.field input,.field select,.field textarea{
  border:1px solid var(--line); border-radius:12px; padding:12px 12px;
  background:#fff; color:#0f172a; outline:none; min-height:44px;
}
:root[data-theme="dark"] .field input,
:root[data-theme="dark"] .field select,
:root[data-theme="dark"] .field textarea{ background:#0f1629; color:var(--text) }

.help-text{color:var(--hint); font-size:13px}

/* ---- Buttons ---- */
.btn{
  appearance:none; border:1px solid var(--line);
  background:#fff; color:#0f172a;
  border-radius:12px; padding:12px 16px; cursor:pointer;
  min-height:44px; font-weight:600;
}
.btn:hover{filter:brightness(0.98)}
.btn.primary{background:var(--brand); color:#fff; border-color:var(--brand)}
.btn.primary:hover{background:var(--brand-700)}
.btn.success{background:var(--success); color:#fff; border-color:var(--success)}
.btn.success:hover{background:var(--success-700)}
.btn.full{width:100%}
.btn[disabled], .btn[aria-disabled="true"]{opacity:.55; cursor:not-allowed}
:where(button, [href], input, select, textarea, summary):focus-visible{
  outline:3px solid var(--focus);
  outline-offset:2px; border-radius:12px;
}

/* ---- Uploader ---- */
.picker-row{display:flex; align-items:center; gap:12px}
.file-name{color:var(--muted)}
.actions-row{display:flex; align-items:center; gap:10px; margin-top:8px}

/* ---- Previews ---- */
.preview-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:16px;
  margin-top:14px;
}
.preview-head{display:flex; align-items:center; justify-content:space-between; margin-bottom:8px}
.preview-title{font-weight:700}
.preview-badge{font-size:12px; color:var(--muted); background:rgba(2,132,199,.12); padding:4px 8px; border-radius:999px}
.preview img{
  width:100%; height:320px; object-fit:contain; background:#f1f5f9; border-radius:10px;
  border:1px dashed var(--line);
}
:root[data-theme="dark"] .preview img{ background:#0b1220 }

/* ---- Key/Value & JSON ---- */
.kv-list{margin:8px 0 0 0}
.kv-row{display:flex; align-items:center; justify-content:space-between; padding:10px 0; border-bottom:1px dashed var(--line)}
.kv-row:last-child{border-bottom:0}
.kv-row dt{color:var(--hint)}
.kv-row dd{margin:0; font-weight:700}
.summary-button{cursor:pointer; color:var(--muted)}
.json-details pre{overflow:auto; background:#0b0b0b10; padding:12px; border-radius:8px; border:1px dashed var(--line)}

/* ---- Right column ---- */
.avatar-row{display:flex; align-items:center; gap:12px; margin-bottom:8px}
.avatar{width:56px;height:56px;border-radius:999px;background:#e2e8f0;border:1px solid var(--line)}

/* ---- Footer ---- */
.footer{padding:12px 0 24px;color:var(--hint)}

/* ---- Utilities ---- */
.link{color:var(--brand); text-decoration:underline}
.link:hover{color:var(--brand-700)}
.visually-hidden{position:absolute !important; left:-9999px !important; width:1px;height:1px; overflow:hidden}
.sr-only{position:absolute; width:1px;height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}

/* ---- Responsive ---- */
@media (max-width: 1100px){
  .layout{grid-template-columns: 1fr; justify-content:stretch}
  .column--sidebar{position:static}
  .preview-grid{grid-template-columns:1fr}
  .preview img{height:280px}
}
