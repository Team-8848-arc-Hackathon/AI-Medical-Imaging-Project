/* Friendly theme with larger text options + bigger results images + voice controls */
:root{
  --bg:#f0f9ff; --text:#1e293b; --muted:#64748b; --card:#ffffff; --border:#dbeafe;
  --brand:#06b6d4; --brand-600:#0891b2; --brand-700:#0e7490; --chip:#ecfeff;
  --elev:0 6px 20px rgba(2,90,84,.15);
  --font-ui:"Nunito", system-ui, -apple-system, Segoe UI, Helvetica, Arial, sans-serif;
  --font-np:'Noto Sans Devanagari', "Nunito", system-ui, sans-serif;
}

/* Text size control */
html{ font-size:16px; }
html[data-ts="md"]{ font-size:17.5px; }
html[data-ts="lg"]{ font-size:19px; }

html[data-theme="dark"]{
  --bg:#0f172a; --text:#f1f5f9; --muted:#94a3b8; --card:#1e293b; --border:#334155; --chip:#0c4a6e; --elev:0 6px 24px rgba(0,0,0,.45);
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; background:var(--bg); color:var(--text); font-family:var(--font-ui); line-height:1.6}
body.lang-np{font-family:var(--font-np)}

/* Appbar: more spread + bigger lung icon */
.appbar{
  position:sticky; top:0; z-index:3; display:flex; align-items:center;
  padding:22px 28px;
  background:linear-gradient(135deg, var(--brand-700), var(--brand));
  color:#fff; box-shadow:var(--elev);
  border-bottom-left-radius:22px; border-bottom-right-radius:22px;
}
.icon-btn{appearance:none;border:0;background:transparent;color:#fff;font-size:1.4rem;cursor:pointer}
.appbar .brand{display:flex; gap:14px; align-items:center}
.appbar .brand.center{margin:0 auto; text-align:center; max-width:780px}
.logo{
  width:64px;height:64px;border-radius:16px;background:#fff2;
  display:grid; place-items:center; font-size:2rem;
}
.appbar h1{margin:0; font-size:1.5rem; font-weight:800}
.appbar p{margin:4px 0 0; opacity:.95; font-size:.9rem}
.right-actions{display:flex; gap:10px; align-items:center}

/* Drawer */
.drawer{position:fixed; right:-340px; top:0; width:320px; height:100%; background:var(--card); color:var(--text); border-left:1px solid var(--border); box-shadow:var(--elev); transition:right .2s ease; z-index:4}
.drawer.open{right:0}
.drawer-head{display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--border)}
.drawer-body{padding:12px 16px; display:grid; gap:12px}
.switch-row{display:flex; align-items:center; justify-content:space-between; gap:8px}
.lang-choices{display:flex; gap:14px}
.scrim{position:fixed; inset:0; background:rgba(0,0,0,.35); opacity:0; visibility:hidden; transition:opacity .2s; z-index:3}
.scrim.show{opacity:1; visibility:visible}

/* Hero */
.hero{max-width:1200px;margin:16px auto 8px;padding:0 16px}
.how-steps{display:grid; grid-template-columns:repeat(3,1fr); gap:12px}
.how-step{background:var(--card); border:2px dashed var(--border); border-radius:16px; padding:12px; display:flex; align-items:center; gap:12px; box-shadow:var(--elev)}
.how-icon{font-size:1.4rem; width:40px; height:40px; display:grid; place-items:center; background:#e0f2fe; border-radius:10px}

/* Layout — give more width to the right column (results images) */
.shell{max-width:1200px;margin:18px auto;padding:0 16px}

/* Equal-height two-column layout */
.two-col{
  display:flex;
  align-items:stretch;
  gap:18px;
}
.two-col > section,
.two-col > aside{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:16px;
}
.two-col > section .step-card,
.two-col > aside .step-card{
  flex:1;
  display:flex;
  flex-direction:column;
}
@media (max-width:980px){
  .two-col{flex-direction:column}
  .two-col > section,
  .two-col > aside{flex:auto;}
}

/* Step cards */
.step-card{background:var(--card); border:2px dashed var(--border); border-radius:20px; padding:22px; margin-bottom:16px; box-shadow:var(--elev)}
.step-card h2{font-size:1.06rem; margin:0 0 12px}
.step-num{display:inline-block; background:var(--brand); color:#fff; font-weight:700; padding:6px 10px; border-radius:50%; margin-right:8px}

/* Forms & buttons */
.stack{display:grid; gap:12px}
.grid2{display:grid; grid-template-columns:1fr 1fr; gap:12px}
.grid3{display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px}
@media (max-width: 720px){ .grid2,.grid3{grid-template-columns:1fr} }
.lbl{font-size:.82rem; color:var(--muted)}
.input{width:100%; padding:12px 14px; border:1px solid var(--border); background:#fff; border-radius:12px; color:var(--text); font-size:1rem}
.actions{display:flex; gap:8px; margin-top:6px}
.actions.right{justify-content:flex-end}
.btn{appearance:none; border:0; border-radius:12px; padding:12px 18px; cursor:pointer; background:#e2e8f0; color:#111827; font-weight:700; font-size:1rem}
.btn.primary{background:var(--brand); color:#fff}
.btn.primary:hover{background:var(--brand-600); filter:brightness(1.02)}
.btn.secondary{background:#f1f5f9; color:var(--text)}
.btn.text{background:transparent; color:var(--text); padding:6px 8px}
.hr{height:1px; background:var(--border); margin:8px 0}
.muted{color:var(--muted)}
.tiny{font-size:.8rem}

/* Section 1 & 2 readability */
#analyzeForm .stack{gap:16px}
#analyzeForm .grid2, #analyzeForm .grid3{gap:16px}
#analyzeForm .lbl{font-size:.9rem}
#analyzeForm .lbl + .input{margin-top:6px}
#analyzeForm .tiny{font-size:.85rem}
#analyzeForm .hr{margin:14px 0}
#analyzeForm .input{
  min-height:46px;
  line-height:1.35;
  border-radius:14px;
  border-color:#cfe8ff;
  background:#ffffff;
  transition:border-color .15s, box-shadow .15s, background .15s;
}
#analyzeForm .input::placeholder{color:#8aa3b8}
#analyzeForm .input:focus,
#analyzeForm .input:focus-visible{
  outline:none; border-color:var(--brand-600);
  box-shadow:0 0 0 3px rgba(6,182,212,.22);
}
#analyzeForm select.input{
  appearance:none;
  background-image:
    linear-gradient(45deg, transparent 50%, var(--brand-600) 50%),
    linear-gradient(135deg, var(--brand-600) 50%, transparent 50%),
    linear-gradient(to right, transparent, transparent);
  background-position:
    calc(100% - 18px) calc(50% - 2px),
    calc(100% - 12px) calc(50% - 2px),
    100% 0;
  background-size:6px 6px, 6px 6px, 2.5em 3.5em;
  background-repeat:no-repeat;
  padding-right:44px;
}
#analyzeForm .actions{margin-top:14px}
#analyzeForm .btn{min-height:46px}

/* Patient card */
.profile-row{display:flex; gap:12px; align-items:center}
.avatar{width:56px;height:56px;border-radius:50%;background:var(--brand); color:#fff; display:grid; place-items:center; font-size:1.3rem; font-weight:800}
.pname{font-weight:800}

/* Clean patient stat chips */
.stat-chips{display:flex; gap:8px; flex-wrap:wrap; margin-top:10px}
.stat{background:var(--chip); border:1px solid var(--border); padding:6px 12px; border-radius:999px; font-weight:700; display:inline-flex; align-items:center; gap:6px}

/* KPIs & chips (slightly tighter so images dominate) */
.kpis{display:flex; gap:6px; flex-wrap:wrap; margin-bottom:8px}
.chip{
  background:var(--chip); border:1px solid var(--border);
  padding:3px 8px; border-radius:999px;
  font-size:12.5px; font-weight:600;
  display:inline-flex; align-items:center; gap:6px
}
.chip.healthy{color:#16a34a}
.chip.attention{color:#f59e0b}
.chip.danger{color:#dc2626}

/* Results images — larger */
.two-up{display:grid; grid-template-columns:1fr 1fr; gap:14px}
@media (max-width: 720px){ .two-up{grid-template-columns:1fr} }
.frame{border:1px solid var(--border); border-radius:12px; padding:12px; background:#fff}
.preview{
  width:100%; border-radius:10px; display:block;
  max-height:520px;               /* bigger than before */
  object-fit:contain;
}

/* Risk bar interactive */
.risk-bar{width:100%; background:#e5e7eb; border-radius:12px; overflow:hidden; height:18px; margin:8px 0; position:relative}
.risk-bar span{
  display:block; height:100%;
  background:linear-gradient(90deg,#16a34a,#f59e0b,#dc2626);
  background-size:200% 100%;
  animation:slide 4s linear infinite;
  transition:width .5s ease;
}
.risk-bar:hover span{filter:brightness(1.1)}
.risk-bar::after{
  content:attr(title);
  position:absolute; top:-22px; right:0;
  font-size:11px; color:var(--muted)
}
@keyframes slide{ 0%{background-position:0 0} 100%{background-position:-200% 0} }

/* JSON */
.accordion summary{cursor:pointer}
pre.json{max-height:420px; overflow:auto; background:#0b1020; color:#d8e1ff; border-radius:12px; padding:12px; border:1px solid #0f1a3a}

/* Alerts */
.alert{padding:10px 12px; border-radius:10px}
.alert.error{background:#fee2e2; color:#7f1d1d}

/* Loading overlay */
.loading{position:fixed; inset:0; display:grid; place-items:center; gap:12px; background:rgba(0,0,0,.35); z-index:5}
.loading.hidden{display:none}
.spinner{width:56px; height:56px; border-radius:50%; border:6px solid #ffffff88; border-top-color: var(--brand); animation:spin .8s linear infinite}
.loadtext{color:#fff; font-weight:800}
@keyframes spin{to{transform:rotate(360deg)}}

/* Large text overrides */
html[data-ts="lg"] .appbar h1{font-size:1.6rem}
html[data-ts="lg"] .input{padding:14px 16px; font-size:1.05rem}
html[data-ts="lg"] .btn{padding:14px 20px; font-size:1.05rem}
html[data-ts="lg"] .lbl, html[data-ts="lg"] .tiny{font-size:.9rem}
html[data-ts="lg"] #analyzeForm .input{min-height:50px}
html[data-ts="lg"] .bigger-images .preview{max-height:460px}
